# Disaster Recovery (DR)
- 재해가 발생 했을 때를 대비하여, 복구하는 프로세스를 의미한다.
- 전체 서비스에 대한 복제본(혹은 백업)을 다른 곳에 두고, 해당 영역에서 복구 및 트래픽을 받는 방식을 사용한다.

## 무엇을 목적으로 하는가?
```text
어떠한 경우에도 서비스의 의도한 동작의 정상적인 수행을 목적으로 한다..
복원성 (Recovery)가 이를 위해서는 필수적인데, 이를 위한 방안으로는

1. 인프라나 서비스의 장애 복구
2. 컴퓨팅 리소스의 동적인 확보를 통한 트래픽 증가에 대한 대응
3. 설정오류나 네트워크 장애에 대한 대응

등이 포함된다.
```

## 재해는 무엇을 의미하는가?
1. 지진, 홍수, 화재와 같은 자연재해
2. 정전, 네트워크 장애와 같은 기술적 장애
3. 잘못된 보안 구성으로 인한 외부자의 접근 등 인재

**이러한 장애는 Region단위로 일어날 수 있으므로, 여러 Region단위로 구성하는 것이 중요하다.**

## RTO (Recovery Time Object)
- 얼마나 빠르게 복구 할 것인가.
- System 재개 까지의 목표이다.
- 재해 복구 계획을 세우는 기준이 된다.

## RPO (Recovery Point Objet)
- 데이터 손실을 얼마나 감당할 것인가?
- 감내할 수 있는 데이터 손실의 지점 (시간)을 나타낸다.
- 재해 복구 계획을 세우는 기준이 된다.

<img width="853" alt="RPO-RTO" src="https://user-images.githubusercontent.com/57896918/196460294-9026d7a6-f60e-4970-bb41-ce666517ad17.png">


## 재해 복구 계획

### 1. Mirror-Site (RTO: 0 혹은 수분 이내)
- 실시간 동기화
- Active-Active로 구성한다.
- 네트워크 이중화도 포함한다.

### 2. Hot-Site (RTO: 4시간 이내)
- 실시간 동기화
-  Active-StandBy로 구성한다.
- 재해 시점에서 Active 상태로 전환하여 복구한다.

### 3. Warm-Site (RTO: 수일 이내)
- 공간과, 서버가 준비되어있는 상황
- 일,주 단위로 데이터가 백업되고 있다.
- 재해가 발생 할 시에, 백업된 데이터로 복구한다. (데이터 손실이 발생 할 수 있다.)

### 4. Cold-Site (RTO: 수 주 ~ 1개월)
- 공간만 준비되어있는 상황
- 서버나 기타 주변기기들 또한 준비되어 있지 않다.

## HA (고가용성)과의 차이점


### 1. 측정의 관점
- DR은 1회성에 대한 것을 측정
- Availability는 평균적인 값에 대한 추산

### 2. 구성 요소에 대한 초점
- Availabilty는 서비스를 구성하는 각 요소에대해 초점을 둔다. (각각의 서버,DB에 대한 Scale-Out)
- DR은 전체 서비스(= 워크로드)의 복사본에 초점을 둔다.

### 3. 데이터에 접근 하는 방식
- Availabilty는 복제를 기본으로 한다.
- DR은 특정 시점의 백업을 기본으로 한다.
