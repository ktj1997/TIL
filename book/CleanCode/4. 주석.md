# 4. 주석

```text
 나쁜 코드에 주석을 달지마라. 새로짜라. 브라이언 W. 커니핸, P.J.플라우거
```

- 주석은 좋게보아도 "필요 악" 이다.
  - 물론 좋은 주석은 유용한 정보를 제공한다.
  - 좋지 않은 주석은 정보를 파악하는데 오히려 혼선을 줄 수 있다.
- 좋은 코드는 주석이 필요없이도 잘 읽힌다.
- 주석을 유지보수 하는 것은 불가능에 가깝고, 이에 따라서 낡게되며 오해를 일으키는 정보로 남게된다.

## 주석은 나쁜 코드를 보완하지 못한다.
- 일반적으로 코드에 주석을 작성하는 이유는, 코드의 품질이 나쁘기 때문이다.
- 주석을 작성할 시간에, 코드를 다듬는데 시간을 투자해야 한다.

## 코드를 의도로 표현하라
```java
class Example{
  public void badExample(){
      if((employee.flags & HOURLY_FLAG) && (employee.age > 65)){
          /**
           * 조건을 판단하기 힘들다.
          */
      }
  }
  
  public void goodExample(){
    if(employee.isEligibleForFullBenefits()){
        /**
         *  추상화 단계를 한단계 높임으로 해서 코드의 가독성이 훨씬 늘었다.
        */
    }
  }
}
```

## 좋은 주석
- 주석은 어떠한 경우에는 필요하다.

### 1. 법적인 주석
```java
  /**
   *  Copyright (c) 2003,2004,2005 by Object Mentor, Inc, All rights reserved
  */
```
- 계약조건, 법적인 정보를 포함한다.
- 라이선스, 외부문서에 대한 참조도 가능하다.

### 2. 정보를 제공하는 주석
```java
class Example{
    // kk:,,:ss EEE, MMM dd, yyyy 형식이다
    Pattern timeMatcher = Pattern.compile("\\d*:\\d*:\\d*: \\w*, \\w* \\d*, \\d*:);
    
    // 테스트중인 Responder 인스턴스를 반환한다.
    protected abstract Responsder responderInstance();
  
}
```
- 기본적인 정보를 주석으로 제공하면 편리하다.
- 주석이 유용하긴 하지만, Method명 등을 통해서 정보를 제공하는 편이 더 좋다.

### 3. 의도를 설명하는 주석
- 구현에 대한 설명을 넘어서 결정에 깔린 의도까지 설명하기도 한다.
- 문제 해결방식에 동의하지 않을 수는 있으나, 최소한 의도는 분명히 드러난다.

### 4. 의미를 명료하게 밝히는 주석
- 모호한 인수나 반환값은 혼란을 야기한다.
- 인수나 반환값 자체로 명확하면 좋겠지만, 표준 라이브러리, 변경 불가능한 코드 등이면 주석을 통해서 나타내는 것이 좋다.

### 5. 결과를 경고하는 주석
- 다른 프로그래머에게 결과를 경고하는 목적으로 사용할 수 있다.
```java
class Example{
  /**
   * SimpleDateFormat은 쓰레드에 안전하지 못하다.
   * 따라서 각 인스턴스를 독립적으로 생성해야 한다.
   * Synchronized를 걸거나, 쓰레드 마다 객체를 생성해주어야한다.
   */
    public static SimpleDateFormat makeStandardHttpFormat(){
    SimpleDateFormat df = new SimpleDateFormat("EEE, dd MMM yyyy HH:mm:ss z");
    df.setTimeZone(TimeZone.getTimeZone("GMT"));
  }   
}
```

### 6. TODO 주석
- 나쁜 코드를 남겨놓는 핑계가 되어서는 안된다.
- 주기적으로 TODO주석을 점검하여 없어도 되는 것들은 지워야 한다.