# CAP 이론
- 분산 시스템의 특성에 대해서 이야기 하는 이론
- 3가지의 특성 모두를 만족하는 분산시스템은 존재하지 않는다.
  - CA 또한 존재 할 수 없다 : 분산시스템에서 Partition Tolerance는 필수적이기 때문이다.
## 구성요소

### 1. Consistency (일관성)
- 모든 데이터가 일관성을 보장해야 한다.
- 모든 Node들은 같은 시간에 동일한 항목에 대하여 같은 데이터를 사용자에게 제공할 수 있어야 한다.

### 2. Availability(가용성)
- 어떠한 상황에서도 사용자는 시스템을 사용 가능해야 한다.
- 한 Node의 장애가 다른 Node에 영향을 끼쳐서는 안된다.

### 3. Partition-Tolerance(파티션 내성)
- 메세지 전달이 실패하거나, 시스템 일부가 망가져도 시스템이 계속 동작할 수 있어야 한다.
- 클러스터간 통신의 실패에도 시스템이 정상적으로 동작해야 한다.
- 통신 장애가 해결되면 다시 클러스터링을 수행한다.


## CP 데이터베이스
- Parition이 해결 할 때 까지 분산시스템의 기능이 중지된다.
- Partition이 해결되지 않은 Node를 접근 불가능한 상태로 지정한다.

## AP 데이터베이스
- Partition이 해결되었어도, 중지되어 있던 Node가 최신의 데이터를 리턴하지 않을 수 있다.
- 뒤쳐진 Node는 Sync를 수행하여, 최신성을 유지하려 노력한다.