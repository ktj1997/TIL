# 무중단 배포

### 1. 롤링-배포 (Rolling Deployment)
- 사용중인 인스턴스를 점진적으로 교체하는 것 이다.
  - Old Version 한 대를 중지 후, New Version으로 교체 한다.
- 로드밸런서를 이용하여, 구 버전에는 트래픽이 가지않도록 한 뒤 새로운 버전으로 교체 후 다시 트래픽을 보낸다.
- 새 버전을 배포 할 때, 인스턴스의 수가 감소하기 때문에 서비스 처리용량에 대해서 고려해야 한다.
- 구 버전과 신 버전이 공존되기 때문에, **호환성에 대한 문제**가 있다.
- 리소스가 제한적일 때 사용된다.

### 2. 블루-그린 배포 (Blue-Green Deployment)
- Blue : 구 버전, Green : 신 버전 이다.
- Old Version과 동일한 인스턴스에서 New Version을 구성한다.
- Old Version 과 동일한 수의 New Version의 인스턴스를 구성 한 후, 한번에 트래픽을 전환한다.
- 시스템 자원이 두배로 필요하다.
- 호환성 문제가 발생하지 않는다.
- 빠른 롤백이 가능하다.

### 3. 카나리 배포 (Canary-Deployment)
- Rolling과 Blue-Green을 합친 방식이다.
  - 동일한 인스턴스 환경에서 Old Version과 New Version이 공존한다. (Blue-Green)
  - 점진적으로 트래픽을 전환한다. (Rolling)
- New Version의 트래픽을 점진적으로 늘려가면서 문제상황을 미리 발견하고자 한다.
- 문제가 없다면 트래픽 양을 늘리고, 문제가 있다면 롤백하는 등의 방식으로 부정적인 영향을 최소화 할 수 있다.